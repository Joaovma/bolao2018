<!DOCTYPE HTML>
<!--
	Industrious by TEMPLATED
	templated.co @templatedco
	Released for free under the Creative Commons Attribution 3.0 license (templated.co/license)
-->
<html>
	<head>
		<title>Classificacao</title>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
		<meta name="description" content="" />
		<meta name="keywords" content="" />
		<link rel="stylesheet" href="assets/css/main.css" />
	</head>
	<style> 
  		.even{background-color: white;} 
  		.odd{background-color: rgba(53, 53, 53, 0.1);}
  		.premio{background-color: #b3cccc;}
	</style>

	<body class="is-preload">

		<!-- Header -->
			<header id="header">
				<a class="logo" href="TelaInicial.html"><font size="3">Bolão da Copa</font></a>
				<a class="logo" href="MinhaConta.html"><font size="1">Olá, </font><font id="nomeLogado" size="1"></font></a>
				<nav>
					<a href="#menu">Menu</a>
				</nav>
			</header>

		<!-- Nav -->
			<nav id="menu">
				<ul class="links">
					<li><a class="fa fa-home" href="TelaInicial.html">&nbsp; HOME</a></li>
					<li><a class="fa fa-plus-square-o" href="NovaAposta.html">&nbsp; APOSTAR</a></li>
					<li><a class="fa fa-user-o" href="MinhaConta.html">&nbsp; MINHA CONTA</a></li>
					<li><a class="fa fa-folder-open-o" href="MinhasApostas.html">&nbsp; MINHA APOSTA</a></li>
					<li><a class="fa fa-newspaper-o" href="Regras.html">&nbsp; REGRAS DO BOLÃO</a></li>
					<li><a class="fa fa-sign-out" href="#" onclick='firebaseSignOut()' >&nbsp; LOGOUT</a></li>
				</ul>
			</nav>

		<!-- Heading -->
			<div id="heading" >
				<h1>Classificação do Bolão</h1>
			</div>

		<!-- Main -->
			<section id="main" class="wrapper">
				<div class="inner">
					<div class="content">
						<p><font color="gray" >Mais dados das pontuações (arraste) »» </font></p>
						<div class="table-wrapper">
									<font size="3">
										<table class="alt" id="classificacaoGeral">
											<thead align="center">
												<tr>
													<td bgcolor="#00798C"><b><font color="white">Pos</font></b></td>
													<td bgcolor="#00798C"padding="200px"><b><font color="#00798C">______</font><font color="white">Apostador</font><font color="#00798C">______</font></b></td>
													<td bgcolor="#00798C"><b><font color="#00798C">_</font><font color="white">Total</font><font color="#00798C">_</font></b></td>
													<td bgcolor="#00798C"><b><font color="white">*Final</font></b></td>
													<td bgcolor="#00798C"><b><font color="white">*3º</font></b></td>
													<td bgcolor="#00798C"><b><font color="white">*Semi</font></b></td>
													<td bgcolor="#00798C"><b><font color="white">*Quartas</font></b></td>
													<td bgcolor="#00798C"><b><font color="white">*Oitavas</font></b></td>
													<td bgcolor="#00798C"><b><font color="white">Grupos</font></b></td>
												</tr>
											</thead>
											<tbody align="center">
												<!--<tr>
													<td bgcolor="#b3cccc"><b>-</b></td>
													<td bgcolor="#b3cccc"><b>-</td>
													<td bgcolor="#b3cccc"><b>-</b></b></td>
													<td bgcolor="#b3cccc"><b>-</b></td>
													<td bgcolor="#b3cccc"><b>-</b></td>
													<td bgcolor="#b3cccc"><b>-</b></td>
													<td bgcolor="#b3cccc"><b>-</b></td>
													<td bgcolor="#b3cccc"><b>-</b></td>
													<td bgcolor="#b3cccc"><b>-</b></td>
												</tr>-->
												<tr>
													<td>-</td>
													<td>-</td>
													<td><b>-</b></td>
													<td>-</td>
													<td>-</td>
													<td>-</td>
													<td>-</td>
													<td>-</td>
													<td>-</td>
												</tr>
											</tbody>
										</table>
									</font>
									<p><font color="green"> * A pontuação das Oitavas, Quartas, Semi, Terceiro e Final é a soma dos pontos das apostas do participantes antes da copa + apostas dos placares da parte 2 do bolão.</font></p>
									<p><font color="green"> ** Os 5 primeiros colocados recebem premiação de acordo com a colocação (como descrito nas <a href="Regras.html"><u>Regras</u></a>)</font></p>
								</div>
					</div>
				</div>
			</section>

		<!-- Footer -->
			<footer id="footer">
				<div class="inner">
					<div class="content">
						<section>
							<h4>Sobre o Bolão</h4>
							<p>O Bolão da Copa foi criado sem fins lucrativos, com o objetivo de entreter um grupo de amigos e tornar a experiencia de assistir a Copa do Mundo 2018 ainda mais interessante. A forma de pontuação foi reformulada e pode ser conhecida nas <a href="Regras.html"><u>regras</u></a>. Além disso, a ideia da tabela de classificação de todos os apostadores trás uma competitividade bacana para o bolão! Boa Sorte!</p>
						</section>
						<section>
							<h5>Dúvidas?</h5>
							<ul class="alt">
								<li>Mande a pergunta para majoaovitor@gmail.com</li>
							</ul>
						</section>
						<section>
							<h4>Redes Sociais</h4>
							<ul class="plain">
								<!--<li><a href="https://www.facebook.com/joao.vitor.27"><i class="icon fa-facebook">&nbsp;</i>João Vítor - facebook</a></li>-->
								<li><a href="https://www.instagram.com/joaovitor.ma/"><i class="icon fa-instagram">&nbsp;</i>João Vítor</a></li>
								<li><a href="https://www.instagram.com/rafar279/"><i class="icon fa-instagram">&nbsp;</i>Rafael</a></li>
								<li><a href="https://www.facebook.com/hsbrighenti"><i class="icon fa-facebook">&nbsp;</i>Henrique</a></li>
							</ul>
						</section>
					</div>
					<div class="copyright">
						&copy; <a href="https://www.facebook.com/joao.vitor.27">Joao Vitor</a> feat. <a href="https://www.facebook.com/rafael.ramos.752861" >Rafael Ramos</a>. e  <a href="https://www.facebook.com/hsbrighenti" >Henrique Brighenti</a>.
					</div>
				</div>
			</footer>

		<!-- Scripts -->
			<script src="https://www.gstatic.com/firebasejs/4.12.0/firebase-app.js"></script>
			<script src="https://www.gstatic.com/firebasejs/4.12.0/firebase-auth.js"></script>
			<script src="https://www.gstatic.com/firebasejs/4.12.0/firebase-database.js"></script>
			<script src="assets/js/firebase.js"></script>

			<script src="assets/js/jquery.min.js"></script>
			<script src="assets/js/browser.min.js"></script>
			<script src="assets/js/breakpoints.min.js"></script>
			<script src="assets/js/util.js"></script>
			<script src="assets/js/main.js"></script>
			

			<script type="text/javascript">
				/*
				//ZERA AS ATRIBUIÇÕES DE TODOS OS APOSTADORES  - PREENCHE  - So usou uma vez. Nao usa mais.
				if (typeof code_happened === 'undefined') {
					window.code_happened = true;
					var db = firebase.database();
					db.ref("usuarios").on('value', function(snap){
	   					snap.forEach(function(childNodes){
	   						if(typeof childNodes.val().nome === 'undefined'){}
	   						else{
	   								var usuarioParaAdd = childNodes.val().nome;
			   						//console.log(usuarioParaAdd);
			   						//console.log(childNodes.Ce.path.n[1]);
							            	
							      	var pontuacaoFaseGrupos = 0;
							      	var pontuacaoPorJogoFaseGrupos = [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];
						            var pontuacaoOitavas = 0;
						            var pontuacaoQuartas = 0;
						            var pontuacaoSemi = 0;
						            var pontuacaoTerceiro = 0;
						            var pontuacaoFinal = 0;
						            
						            var pontuacaoTotal = 0;
						            var classificacao = 0;

							      	databaseBolao.ref('usuarios/' + childNodes.key).update({
									                pontuacaoPorJogoFaseGrupos,
									                pontuacaoFaseGrupos,
									                pontuacaoOitavas,
									                pontuacaoQuartas,
									                pontuacaoSemi,
									                pontuacaoTerceiro,
									                pontuacaoFinal,
									                pontuacaoTotal,
									                classificacao
									            });
					      	}
					    });
	   				});
				}
				*/
			</script>

			<script>
				// calcula os valores oficiais
				var db = firebase.database();
				db.ref('oficial').once('value', (snap) => {
        			snap.forEach((childNode) => {
    					var oficial = childNode.val();
    					//console.log(oficial);
    					//acessa o resultado dos apostadores
						db.ref('apostas').once('value', (snap) => {
		        			snap.forEach((childNode) => {
		        					var aposta = childNode.val();
		        					var apostaEtapa1 = aposta.etapa1;
		        					//console.log(apostaEtapa1);

						            var pontuacaoFaseGrupos = calculaFaseGrupos(oficial, aposta);
						            var pontuacaoPorJogoFaseGrupos = calculaPontuacaoPorJogoGrupos(oficial, aposta);
						            var pontuacaoOitavas = calculaOitavas(oficial, aposta);
						            var pontuacaoQuartas = calculaQuartas(oficial, aposta);
						            var pontuacaoSemi = calculaSemi(oficial, aposta);
						            var pontuacaoTerceiro = calculaTerceiro(oficial, aposta);
						            var pontuacaoFinal = calculaFINAL(oficial, aposta);
						            
						            var pontuacaoTotal = somaPontuacaoTotal(pontuacaoFaseGrupos, pontuacaoOitavas, pontuacaoQuartas, pontuacaoSemi, pontuacaoTerceiro, pontuacaoFinal)
						            var classificacao = geraClassificacao(pontuacaoFaseGrupos, pontuacaoOitavas, pontuacaoQuartas,
						                pontuacaoSemi, pontuacaoTerceiro, pontuacaoFinal, pontuacaoTotal)

						            db.ref('usuarios/' + childNode.key).update({
						                pontuacaoPorJogoFaseGrupos,
						                pontuacaoFaseGrupos,
						                pontuacaoOitavas,
						                pontuacaoQuartas,
						                pontuacaoSemi,
						                pontuacaoTerceiro,
						                pontuacaoFinal,
						                pontuacaoTotal,
						                classificacao
						            });
		        			});
		        		});

        			});
        		});

        	</script>


			<script type="text/javascript">
				
						//script para ordenar os usuarios
						databaseBolao.ref("usuarios").on('value', function(snap){
							var usuarios = snap.val();
							var arrayUsuarios = [];
							Object.keys(usuarios).forEach(function (key, index) {
								arrayUsuarios.push(usuarios[key]);
								//console.log(arrayUsuarios);
							});

							arrayUsuarios.sort(function sortByClassificacao(a, b){
								if (a.classificacao && b.classificacao) {
									if (a.classificacao > b.classificacao) {
										// a maior
										return -1;
									} else if (a.classificacao < b.classificacao) {
										//b maior
										return 1;
									} else {
										//dois iguais
										return 0;
									}
								} else if (a.classificacao && !b.classificacao) {
									// so a existe (b nao apostou ou nao fez ponto)
									return -1;
								} else if (!a.classificacao && b.classificacao) {
									// so b existe (a nao apostou ou nao fez ponto)
									return 1;
								} else {
									// ninguem apostou ou fez ponto
									return 0;
								}
							});
							//console.log(arrayUsuarios);

							//arrayUsuarios = LISTA DE USUARIOS EM ORDEM POR PONTUACAO FINAL
							insereApostadoresClassificacao("classificacaoGeral", arrayUsuarios);
							deleteFirstrow("classificacaoGeral");
							alternate('classificacaoGeral');
							os5primeiros('classificacaoGeral');
						});

			</script>

			<script type="text/javascript">
				
				function insereApostadoresClassificacao(tableID, VetorUsuariosClassificados){
					
					var table = document.getElementById(tableID);
					var numeroDeUsuarios = VetorUsuariosClassificados.length;
					
					
					for (i = 0; i<numeroDeUsuarios; i++) {
						var rowCount = table.rows.length;
						var row = table.insertRow(rowCount);

						var cellPos = row.insertCell(0);
				    	var cellNome = row.insertCell(1);
				    	var cellTotal = row.insertCell(2);
				    	var cellFinal = row.insertCell(3);
				    	var cellTerceiro = row.insertCell(4);
				    	var cellSemi = row.insertCell(5);
				    	var cellQuartas = row.insertCell(6);
				    	var cellOitavas = row.insertCell(7);
				    	var cellGrupos = row.insertCell(8);

				    	cellPos.innerHTML = rowCount-1;
				    	cellNome.innerHTML = VetorUsuariosClassificados[i].nome;
				    	cellTotal.innerHTML = VetorUsuariosClassificados[i].pontuacaoTotal;
				    	cellFinal.innerHTML = VetorUsuariosClassificados[i].pontuacaoFinal;
				    	cellTerceiro.innerHTML = VetorUsuariosClassificados[i].pontuacaoTerceiro;
				    	cellSemi.innerHTML = VetorUsuariosClassificados[i].pontuacaoSemi;
				    	cellQuartas.innerHTML = VetorUsuariosClassificados[i].pontuacaoQuartas;
				    	cellOitavas.innerHTML = VetorUsuariosClassificados[i].pontuacaoOitavas;
				    	cellGrupos.innerHTML = VetorUsuariosClassificados[i].pontuacaoFaseGrupos;
				    	
					}

				}
				//Deleta a primeira linha da tabela que contem a paravra: carregando
				//tem que ser feito depois que os dados do banco sao colocados na tabela...se nao caga o role
				function deleteFirstrow(tableID) {
				    var table = document.getElementById(tableID);
				    //deleta linha abaixo do cabeçalho
				    table.deleteRow(1);
				}
			</script>

			<script type="text/javascript">
				function alternate(id){ 
				  if(document.getElementsByTagName){  
				    var table = document.getElementById(id);   
				    var rows = table.getElementsByTagName("tr");   
				    for(i = 1; i < rows.length; i++){           
				  //manipulate rows 
				      if(i % 2 == 0){ 
				        rows[i].className = "even";
				        rows[i].border = "10";  
				      }else{ 
				        rows[i].className = "odd";
				        rows[i].border = "10"; 
				      }       
				    } 
				  }
				}
			</script>
			<script type="text/javascript">
				function os5primeiros(id){ 
				  if(document.getElementsByTagName){  
				    var table = document.getElementById(id);   
				    var rows = table.getElementsByTagName("tr");   
				    for(i = 1; i < 6; i++){           
	     				rows[i].className = "premio"
	     				rows[i].style.fontWeight="bold";;
				    } 
				  }
				  //id.border = "10%";
				}
			</script>



			<script type="text/javascript">
				function calculaFaseGrupos(oficial, usuario) {
				    var pontuacaoTotal = 0;
				    var pontuacaoPorJogo = new Array(47);
				    //console.log('calculaFaseGrupos');

				    //console.log(  usuario );
				    for(i = 1; i<=64; i++){
				        var bet = 'j' + i;
				        var real = 'oj' + i; 
				        if (i<=48) {


				            //coleta dados da aposta
				            var timeA = bet + 'A';
				            var timeB = bet + 'B';
				            var prognostico = 'v' + bet;
				            var golsA = usuario.etapa1[bet][timeA];
				            var golsB = usuario.etapa1[bet][timeB];
				            var quemGanhou = usuario.etapa1[bet][prognostico];

				            //coleta dados do oficial - fase de grupos
				            var otimeA = real + 'A';
				            var otimeB = real + 'B';
				            var oprognostico = 'v' + real;
				            var ogolsA = oficial[real][otimeA];
				            var ogolsB = oficial[real][otimeB];
				            var oquemGanhou = oficial[real][oprognostico];
				            
				            //verifica a pontuacao
				            if ( golsA === ogolsA && golsB === ogolsB ) {
				                if(ogolsA == "99") pontuacaoTotal = pontuacaoTotal + 0;
				                else pontuacaoTotal = pontuacaoTotal + 10;
				                pontuacaoPorJogo[i] = 10;
				                //console.log('10pts');
				            }
				            else if ( quemGanhou === oquemGanhou ) {
				                if( golsA === ogolsA || golsB === ogolsB ){
				                    if(ogolsA == "99") pontuacaoTotal = pontuacaoTotal + 0;
				                   	else pontuacaoTotal = pontuacaoTotal + 7;
				                    pontuacaoPorJogo[i] = 7;
				                    //console.log('7pts');
				                }
				                else {
				                    if(ogolsA == "99") pontuacaoTotal = pontuacaoTotal + 0;
				                   	else pontuacaoTotal = pontuacaoTotal + 5;
				                    pontuacaoPorJogo[i] = 5;
				                    //console.log('5pts');
				                }
				            }
				            else if ( golsA === ogolsA || golsB === ogolsB ) {
				                if(ogolsA == "99") pontuacaoTotal = pontuacaoTotal + 0;
				                else pontuacaoTotal = pontuacaoTotal + 2;
				                pontuacaoPorJogo[i] = 2;
				                //console.log('2pts');
				            }
				            else{
				                //console.log('0pts');
				                pontuacaoTotal = pontuacaoTotal + 0;
				                pontuacaoPorJogo[i] = 0;
				            }
				        }
				    }
				    //console.log(pontuacaoPorJogo);
				    //console.log('pontuacao grupos: ' + pontuacaoTotal);
				    return pontuacaoTotal;
				}

				function calculaPontuacaoPorJogoGrupos(oficial, usuario) {
				    var pontuacaoTotal = 0;
				    var pontuacaoPorJogo = new Array(47);
				    //console.log('calculaPontuacaoPorJogoGrupos');

				    //console.log(  usuario );
				    for(i = 1; i<=48; i++){
				        var bet = 'j' + i;
				        var real = 'oj' + i; 

				        //coleta dados da aposta
				        var timeA = bet + 'A';
				        var timeB = bet + 'B';
				        var prognostico = 'v' + bet;
				        var golsA = usuario.etapa1[bet][timeA];
				        //console.log('golsA:'+ golsA);
				        var golsB = usuario.etapa1[bet][timeB];
				        //console.log('golsB:' +golsB);
				        var quemGanhou = usuario.etapa1[bet][prognostico];
				        //console.log('quemGanhou:'+ quemGanhou);

				        //coleta dados do oficial - fase de grupos
				        var otimeA = real + 'A';
				        var otimeB = real + 'B';
				        var oprognostico = 'v' + real;
				        var ogolsA = oficial[real][otimeA];
				        //console.log('oficial_golsA:'+ ogolsA);
				        var ogolsB = oficial[real][otimeB];
				        //console.log('oficial_golsB:' +ogolsB);
				        var oquemGanhou = oficial[real][oprognostico];
				        //console.log('oficial_oquemGanhou:' +oquemGanhou);
				        
				        //verifica a pontuacao
				        if ( golsA === ogolsA && golsB === ogolsB ) {
				            pontuacaoTotal = pontuacaoTotal + 10;
				            pontuacaoPorJogo[i-1] = 10;
				            //console.log('10pts');
				        }
				        else if ( quemGanhou === oquemGanhou ) {
				            if( golsA === ogolsA || golsB === ogolsB ){
				                pontuacaoTotal = pontuacaoTotal + 7;
				                pontuacaoPorJogo[i-1] = 7;
				                //console.log('7pts');
				            }
				            else {
				                pontuacaoTotal = pontuacaoTotal + 5;
				                pontuacaoPorJogo[i-1] = 5;
				                //console.log('5pts');
				            }
				        }
				        else if ( golsA === ogolsA || golsB === ogolsB ) {
				            pontuacaoTotal = pontuacaoTotal + 2;
				            pontuacaoPorJogo[i-1] = 2;
				            //console.log('2pts');
				        }
				        else{
				            //console.log('0pts');
				            pontuacaoTotal = pontuacaoTotal + 0;
				            pontuacaoPorJogo[i-1] = 0;
				        }
				    }
				    //console.log('pontuacao grupos: ' + pontuacaoPorJogo);
				    return pontuacaoPorJogo;
				}

				// calcula os pontos das oitavas independente da posicao da selecao.
				function calculaOitavas(oficial, usuario) {
				    var pontuacaoTotal = 0;
				    var pontuacaoPorClassificadoOitavas = new Array(15);
				    var bet1;
				    var bet2;
				    //console.log('calculaOitavas');
				    for (i=1; i<=16; i++){
				            
				            bet1 = 'oitavas' + i;
				            if(i<=8){
				                bet2 = 'oitavas' + (i+8);
				            }
				            else{
				                bet2 = 'oitavas' + (i-8);
				            } 
				            
				            var real1 = bet1;
				            var real2 = bet2;
				            var Aposta = usuario.etapa1[bet1][bet1];
				            
				            var primOficial = oficial[real1][real1];
				            var SegunOficial = oficial[real2][real2];
				            

				            if (Aposta === primOficial){
				                //console.log('selecao igual' + i);
				                pontuacaoTotal = pontuacaoTotal + 5;
				                pontuacaoPorClassificadoOitavas[i-1] = 5;
				            }
				            else if ( Aposta === SegunOficial ){
				                //console.log('selecao igual' + i);
				                pontuacaoTotal = pontuacaoTotal + 5;
				                pontuacaoPorClassificadoOitavas[i-1] = 5;
				            }
				            else{
				                //console.log('selecao direferente' + i);
				                pontuacaoTotal = pontuacaoTotal + 0;
				                pontuacaoPorClassificadoOitavas[i-1] = 0;
				            }
				    }
				    //console.log('pontuacao Oitavas: ' + pontuacaoTotal);
				    return pontuacaoTotal;
				}

				function calculaPontuacaoPorClassificado_Oitavas(oficial, usuario) {
				    var pontuacaoTotal = 0;
				    var pontuacaoPorClassificadoOitavas = new Array(15);
				    var bet1;
				    var bet2;
				    for (i=1; i<=16; i++){
				            
				            bet1 = 'oitavas' + i;
				            if(i<=8){
				                bet2 = 'oitavas' + (i+8);
				            }
				            else{
				                bet2 = 'oitavas' + (i-8);
				            } 
				            
				            var real1 = bet1;
				            var real2 = bet2;
				            var Aposta = usuario.etapa1[bet1][bet1];
				            var primOficial = oficial[real1][real1];
				            var SegunOficial = oficial[real2][real2];

				            if (Aposta === primOficial){
				                //console.log('selecao igual' + i);
				                pontuacaoTotal = pontuacaoTotal + 5;
				                pontuacaoPorClassificadoOitavas[i-1] = 5;
				            }
				            else if ( Aposta === SegunOficial ){
				                //console.log('selecao igual' + i);
				                pontuacaoTotal = pontuacaoTotal + 5;
				                pontuacaoPorClassificadoOitavas[i-1] = 5;
				            }
				            else{
				                //console.log('selecao direferente' + i);
				                pontuacaoTotal = pontuacaoTotal + 0;
				                pontuacaoPorClassificadoOitavas[i-1] = 0;
				            }
				    }
				    return pontuacaoTotal;
				}

				// calcula os pontos das quartas independente da posicao da selecao.
				function calculaQuartas(oficial, usuario) {
				    var pontuacaoTotal = 0;
				    var pontuacaoPorClassificadoQuartas = new Array(7);
				    //console.log('calculaquartas');
				    
				    for(j=49; j<=56; j++) {
				        
				        var partida = 'j' + j;
				        var IDtimeApostado = 'quartas' + (j-48); 
				        var timeAPOSTA = usuario.etapa1[partida][IDtimeApostado];
				        //console.log('---->time apostado: ' + timeAPOSTA);
				        for (i=1; i<=8; i++){
				            var IDtimeOficial = 'quartas' + i;
				            var timeOFICIAL =  oficial[IDtimeOficial][IDtimeOficial];
				            //console.log('timeOFICIAL: ' + timeOFICIAL);
				            if (timeAPOSTA === timeOFICIAL){
				                pontuacaoTotal = pontuacaoTotal + 10;
				                pontuacaoPorClassificadoQuartas[j-49] = 10;
				                //console.log('********************deu bom pro time: ' + timeAPOSTA); 
				                break;
				            }
				            else{
				                pontuacaoTotal = pontuacaoTotal + 0;
				                pontuacaoPorClassificadoQuartas[j-49] = 0;                
				            }   
				        }
				        
				    }
				    //console.log('pontuacao quartas: ' + pontuacaoTotal);
				    //console.log('pontuacaoTotalVETOR:' + pontuacaoPorClassificadoQuartas);
				    return pontuacaoTotal;
				}

				function calculaPontuacaoPorClassificado_Quartas(oficial, usuario) {
				    var pontuacaoTotal = 0;
				    var pontuacaoPorClassificadoQuartas = new Array(7);
				    //console.log('_________CALCULANDO QUARTAS______________');
				    
				    for(j=49; j<=56; j++) {
				        
				        var partida = 'j' + j;
				        var IDtimeApostado = 'quartas' + (j-48); 
				        var timeAPOSTA = usuario.etapa1[partida][IDtimeApostado];
				        //console.log('---->time apostado: ' + timeAPOSTA);
				        for (i=1; i<=8; i++){
				            var IDtimeOficial = 'quartas' + i;
				            var timeOFICIAL =  oficial[IDtimeOficial][IDtimeOficial];
				            //console.log('timeOFICIAL: ' + timeOFICIAL);
				            if (timeAPOSTA === timeOFICIAL){
				                pontuacaoTotal = pontuacaoTotal + 10;
				                pontuacaoPorClassificadoQuartas[j-49] = 10;
				                //console.log('********************deu bom pro time: ' + timeAPOSTA); 
				                break;
				            }
				            else{
				                pontuacaoTotal = pontuacaoTotal + 0;
				                pontuacaoPorClassificadoQuartas[j-49] = 0;                
				            }   
				        }
				        
				    }
				    //console.log('pontuacao quartas: ' + pontuacaoTotal);
				    //console.log('pontuacaoTotalVETOR:' + pontuacaoPorClassificadoQuartas);
				    return pontuacaoPorClassificadoQuartas;
				}

				function calculaSemi(oficial, usuario) {
				    var pontuacaoTotal = 0;
				    var pontuacaoPorClassificadoQuartas = new Array(3);
				    //console.log('calculasemi');
				    
				    for(j=57; j<=60; j++) {
				        
				        var partida = 'j' + j;
				        var IDtimeApostado = 'semi' + (j-56); 
				        var timeAPOSTA = usuario.etapa1[partida][IDtimeApostado];
				        //console.log('---->time apostado: ' + timeAPOSTA);
				        for (i=1; i<=4; i++){
				            var IDtimeOficial = 'semi' + i;
				            var timeOFICIAL =  oficial[IDtimeOficial][IDtimeOficial];
				            //console.log('timeOFICIAL: ' + timeOFICIAL);
				            if (timeAPOSTA === timeOFICIAL){
				                pontuacaoTotal = pontuacaoTotal + 15;
				                pontuacaoPorClassificadoQuartas[j-57] = 15;
				                //console.log('********************deu bom pro time: ' + timeAPOSTA); 
				                break;
				            }
				            else{
				                pontuacaoTotal = pontuacaoTotal + 0;
				                pontuacaoPorClassificadoQuartas[j-57] = 0;                
				            }   
				        }
				        
				    }
				    //console.log('pontuacao semi: ' + pontuacaoTotal);
				    //console.log('pontuacaoTotalVETOR:' + pontuacaoPorClassificadoQuartas);
				    return pontuacaoTotal;
				}

				function calculaPontuacaoPorClassificado_Semi(oficial, usuario) {
				    var pontuacaoTotal = 0;
				    var pontuacaoPorClassificadoQuartas = new Array(3);
				    //console.log('_________CALCULANDO SEMI______________');
				    
				    for(j=57; j<=60; j++) {
				        
				        var partida = 'j' + j;
				        var IDtimeApostado = 'semi' + (j-56); 
				        var timeAPOSTA = usuario.etapa1[partida][IDtimeApostado];
				        //console.log('---->time apostado: ' + timeAPOSTA);
				        for (i=1; i<=4; i++){
				            var IDtimeOficial = 'semi' + i;
				            var timeOFICIAL =  oficial[IDtimeOficial][IDtimeOficial];
				            //console.log('timeOFICIAL: ' + timeOFICIAL);
				            if (timeAPOSTA === timeOFICIAL){
				                pontuacaoTotal = pontuacaoTotal + 15;
				                pontuacaoPorClassificadoQuartas[j-57] = 15;
				                //console.log('********************deu bom pro time: ' + timeAPOSTA); 
				                break;
				            }
				            else{
				                pontuacaoTotal = pontuacaoTotal + 0;
				                pontuacaoPorClassificadoQuartas[j-57] = 0;                
				            }   
				        }
				        
				    }
				    //console.log('pontuacao semi: ' + pontuacaoTotal);
				    //console.log('pontuacaoTotalVETOR:' + pontuacaoPorClassificadoQuartas);
				    return pontuacaoPorClassificadoQuartas;
				}

				function calculaTerceiro(oficial, usuario) {
				    var pontuacaoTotal = 0;
				    //console.log('calculaterceiro');
				    
				    for(j=63; j<=63; j++) {
				        
				        var partida = 'j' + j;
				        var IDtimeApostado = 'terceiro'; 
				        var timeAPOSTA = usuario.etapa1[partida][IDtimeApostado];
				        //console.log('---->time apostado: ' + timeAPOSTA);
				        var IDtimeOficial = 'terceiro';
				        var timeOFICIAL =  oficial[IDtimeOficial][IDtimeOficial];
				        //console.log('timeOFICIAL: ' + timeOFICIAL);
				        if (timeAPOSTA === timeOFICIAL){
				            pontuacaoTotal = pontuacaoTotal + 15;
				            //console.log('********************deu bom pro time: ' + timeAPOSTA); 
				        }
				        else{
				            pontuacaoTotal = pontuacaoTotal + 0;              
				        }   
				    }
				    //console.log('pontuacao terceiro: ' + pontuacaoTotal);
				    return pontuacaoTotal;
				}

				function calculaFINAL(oficial, usuario) {
				    var pontuacaoTotal = 0;
				   	//console.log('calculaFinal');
						    
				    for(j=64; j<=64; j++) {
				        
				        var partida = 'j' + j;
				        var IDtimeCampeao = 'campeao';
				        var IDtimeVice = 'vice';  
				        var timeAPOSTAcampeao = usuario.etapa1[partida][IDtimeCampeao];
				        var timeAPOSTAvice = usuario.etapa1[partida][IDtimeVice];
				        //console.log('---->campeao apostado: ' + timeAPOSTAcampeao);
				        //console.log('---->vice apostado: ' + timeAPOSTAvice);
				        var timeOFICIALcampeao = oficial[IDtimeCampeao][IDtimeCampeao];
				        var timeOFICIALvice = oficial[IDtimeVice][IDtimeVice];
				        //console.log('---->campeao oficial: ' + timeOFICIALcampeao);
				        //console.log('---->vice oficial: ' + timeOFICIALvice);
				        
				        if (timeAPOSTAcampeao === timeOFICIALcampeao){
				            pontuacaoTotal = pontuacaoTotal + 40;
				            //console.log('********************ACERTOU CAMPEAO'); 
				        }
				        else if(timeAPOSTAvice === timeOFICIALvice){
				            pontuacaoTotal = pontuacaoTotal + 20;
				            //console.log('********************ACERTOU VICE');
				        }
				        else{
				            pontuacaoTotal = pontuacaoTotal + 0;              
				        }   
				    }
				    //console.log('pontuacao final: ' + pontuacaoTotal);
				    return pontuacaoTotal;
				}


				function somaPontuacaoTotal(pontuacaoFaseGrupos, pontuacaoOitavas, pontuacaoQuartas,
				    pontuacaoSemi, pontuacaoTerceiro, pontuacaoFinal) {
				    var somaTotal = pontuacaoFaseGrupos + pontuacaoOitavas + pontuacaoQuartas + pontuacaoSemi + pontuacaoTerceiro + pontuacaoFinal;
				    return somaTotal;
				}

				function geraClassificacao(pontuacaoFaseGrupos, pontuacaoOitavas, pontuacaoQuartas,
				    pontuacaoSemi, pontuacaoTerceiro, pontuacaoFinal, pontuacaoTotal) {
				    var pesoClassificação = (pontuacaoTotal * 1e11) + (pontuacaoFinal * 1e9) + (pontuacaoTerceiro * 1e9) + (pontuacaoSemi * 1e7) + (pontuacaoQuartas * 1e5) + (pontuacaoOitavas * 1e3) +  pontuacaoFaseGrupos;
				    //console.log(pesoClassificação);
				    return pesoClassificação;

				}
			</script>

			<script type="text/javascript">
				firebaseGetUserData().then(function(usuario){
					//console.log(usuario);
					$('#nomeLogado').html(usuario.nome);
				})

			</script>












	</body>
</html>