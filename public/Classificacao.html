<!DOCTYPE HTML>
<!--
	Industrious by TEMPLATED
	templated.co @templatedco
	Released for free under the Creative Commons Attribution 3.0 license (templated.co/license)
-->
<html>
	<head>
		<title>Classificacao</title>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
		<meta name="description" content="" />
		<meta name="keywords" content="" />
		<link rel="stylesheet" href="assets/css/main.css" />
	</head>
	<style> 
  		.even{background-color: white;} 
  		.odd{background-color: rgba(53, 53, 53, 0.1);}
  		.premio{background-color: #b3cccc;}
	</style>

	<body class="is-preload">

		<!-- Header -->
			<header id="header">
				<a class="logo" href="TelaInicial.html">Bolão da Copa 2018</a>
				<nav>
					<a href="#menu">Menu</a>
				</nav>
			</header>

		<!-- Nav -->
			<nav id="menu">
				<ul class="links">
					<li><a class="fa fa-home" href="TelaInicial.html">&nbsp; HOME</a></li>
					<li><a class="fa fa-plus-square-o" href="NovaAposta.html">&nbsp; APOSTAR</a></li>
					<li><a class="fa fa-user-o" href="MinhaConta.html">&nbsp; MINHA CONTA</a></li>
					<li><a class="fa fa-folder-open-o" href="MinhasApostas.html">&nbsp; MINHA APOSTA</a></li>
					<li><a class="fa fa-newspaper-o" href="Regras.html">&nbsp; REGRAS DO BOLÃO</a></li>
					<li><a class="fa fa-sign-out" href="#" onclick='firebaseSignOut()' >&nbsp; LOGOUT</a></li>
				</ul>
			</nav>

		<!-- Heading -->
			<div id="heading" >
				<h1>Classificação do Bolão</h1>
			</div>

		<!-- Main -->
			<section id="main" class="wrapper">
				<div class="inner">
					<div class="content">
						<p><font color="gray" >Mais dados das pontuações (arraste) »» </font></p>
						<div class="table-wrapper">
									<font size="3">
										<table class="alt" id="classificacaoGeral">
											<thead align="center">
												<tr>
													<td bgcolor="#00798C"><b><font color="white">Pos</font></b></td>
													<td bgcolor="#00798C"padding="200px"><b><font color="#00798C">______</font><font color="white">Apostador</font><font color="#00798C">______</font></b></td>
													<td bgcolor="#00798C"><b><font color="#00798C">_</font><font color="white">Total</font><font color="#00798C">_</font></b></td>
													<td bgcolor="#00798C"><b><font color="white">*Final</font></b></td>
													<td bgcolor="#00798C"><b><font color="white">*3º</font></b></td>
													<td bgcolor="#00798C"><b><font color="white">*Semi</font></b></td>
													<td bgcolor="#00798C"><b><font color="white">*Quartas</font></b></td>
													<td bgcolor="#00798C"><b><font color="white">*Oitavas</font></b></td>
													<td bgcolor="#00798C"><b><font color="white">Grupos</font></b></td>
												</tr>
											</thead>
											<tbody align="center">
												<!--<tr>
													<td bgcolor="#b3cccc"><b>-</b></td>
													<td bgcolor="#b3cccc"><b>-</td>
													<td bgcolor="#b3cccc"><b>-</b></b></td>
													<td bgcolor="#b3cccc"><b>-</b></td>
													<td bgcolor="#b3cccc"><b>-</b></td>
													<td bgcolor="#b3cccc"><b>-</b></td>
													<td bgcolor="#b3cccc"><b>-</b></td>
													<td bgcolor="#b3cccc"><b>-</b></td>
													<td bgcolor="#b3cccc"><b>-</b></td>
												</tr>-->
												<tr>
													<td>-</td>
													<td>-</td>
													<td><b>-</b></td>
													<td>-</td>
													<td>-</td>
													<td>-</td>
													<td>-</td>
													<td>-</td>
													<td>-</td>
												</tr>
											</tbody>
										</table>
									</font>
									<p><font color="green"> * A pontuação das Oitavas, Quartas, Semi, Terceiro e Final é a soma dos pontos das apostas do participantes antes da copa + apostas dos placares da parte 2 do bolão.</font></p>
									<p><font color="green"> ** Os 5 primeiros colocados recebem premiação de acordo com a colocação (como descrito nas <a href="Regras.html"><u>Regras</u></a>)</font></p>
								</div>
					</div>
				</div>
			</section>

		<!-- Footer -->
			<footer id="footer">
				<div class="inner">
					<div class="content">
						<section>
							<h4>Sobre o Bolão</h4>
							<p>O Bolão da Copa foi criado sem fins lucrativos, com o objetivo de entreter um grupo de amigos e tornar a experiencia de assistir a Copa do Mundo 2018 ainda mais interessante. A forma de pontuação foi reformulada e pode ser conhecida nas <a href="Regras.html"><u>regras</u></a>. Além disso, a ideia da tabela de classificação de todos os apostadores trás uma competitividade bacana para o bolão! Boa Sorte!</p>
						</section>
						<section>
							<h5>Dúvidas?</h5>
							<ul class="alt">
								<li>Mande a pergunta para majoaovitor@gmail.com</li>
							</ul>
						</section>
						<section>
							<h4>Redes Sociais</h4>
							<ul class="plain">
								<!--<li><a href="https://www.facebook.com/joao.vitor.27"><i class="icon fa-facebook">&nbsp;</i>João Vítor - facebook</a></li>-->
								<li><a href="https://www.instagram.com/joaovitor.ma/"><i class="icon fa-instagram">&nbsp;</i>João Vítor</a></li>
								<li><a href="https://www.instagram.com/rafar279/"><i class="icon fa-instagram">&nbsp;</i>Rafael</a></li>
								<li><a href="https://www.facebook.com/hsbrighenti"><i class="icon fa-facebook">&nbsp;</i>Henrique</a></li>
							</ul>
						</section>
					</div>
					<div class="copyright">
						&copy; <a href="https://www.facebook.com/joao.vitor.27">Joao Vitor</a> feat. <a href="https://www.facebook.com/rafael.ramos.752861" >Rafael Ramos</a>. e  <a href="https://www.facebook.com/hsbrighenti" >Henrique Brighenti</a>.
					</div>
				</div>
			</footer>

		<!-- Scripts -->
			<script src="https://www.gstatic.com/firebasejs/4.12.0/firebase-app.js"></script>
			<script src="https://www.gstatic.com/firebasejs/4.12.0/firebase-auth.js"></script>
			<script src="https://www.gstatic.com/firebasejs/4.12.0/firebase-database.js"></script>
			<script src="assets/js/firebase.js"></script>

			<script src="assets/js/jquery.min.js"></script>
			<script src="assets/js/browser.min.js"></script>
			<script src="assets/js/breakpoints.min.js"></script>
			<script src="assets/js/util.js"></script>
			<script src="assets/js/main.js"></script>
			<script type="text/javascript">
				databaseBolao.ref("usuarios").on('value', function(snap){
					var usuarios = snap.val();
					var arrayUsuarios = [];
					Object.keys(usuarios).forEach(function (key, index) {
						arrayUsuarios.push(usuarios[key]);
					});

					arrayUsuarios.sort(function sortByClassificacao(a, b){
						if (a.classificacao && b.classificacao) {
							if (a.classificacao > b.classificacao) {
								// a maior
								return -1;
							} else if (a.classificacao < b.classificacao) {
								//b maior
								return 1;
							} else {
								//dois iguais
								return 0;
							}
						} else if (a.classificacao && !b.classificacao) {
							// so a existe (b nao apostou ou nao fez ponto)
							return -1;
						} else if (!a.classificacao && b.classificacao) {
							// so b existe (a nao apostou ou nao fez ponto)
							return 1;
						} else {
							// ninguem apostou ou fez ponto
							return 0;
						}
					});
					console.log(arrayUsuarios);

					//arrayUsuarios = LISTA DE USUARIOS EM ORDEM POR PONTUACAO FINAL
					insereApostadoresClassificacao("classificacaoGeral", arrayUsuarios);
					deleteFirstrow("classificacaoGeral");
					alternate('classificacaoGeral');
					os5primeiros('classificacaoGeral');
				});
			</script>

			<script type="text/javascript">
				
				function insereApostadoresClassificacao(tableID, VetorUsuariosClassificados){
					
					var table = document.getElementById(tableID);
					var numeroDeUsuarios = VetorUsuariosClassificados.length;
					
					
					for (i = 0; i<numeroDeUsuarios; i++) {
						var rowCount = table.rows.length;
						var row = table.insertRow(rowCount);

						var cellPos = row.insertCell(0);
				    	var cellNome = row.insertCell(1);
				    	var cellTotal = row.insertCell(2);
				    	var cellFinal = row.insertCell(3);
				    	var cellTerceiro = row.insertCell(4);
				    	var cellSemi = row.insertCell(5);
				    	var cellQuartas = row.insertCell(6);
				    	var cellOitavas = row.insertCell(7);
				    	var cellGrupos = row.insertCell(8);

				    	cellPos.innerHTML = rowCount-1;
				    	cellNome.innerHTML = VetorUsuariosClassificados[i].nome;
				    	cellTotal.innerHTML = VetorUsuariosClassificados[i].pontuacaoTotal;
				    	cellFinal.innerHTML = VetorUsuariosClassificados[i].pontuacaoFinal;
				    	cellTerceiro.innerHTML = VetorUsuariosClassificados[i].pontuacaoTerceiro;
				    	cellSemi.innerHTML = VetorUsuariosClassificados[i].pontuacaoSemi;
				    	cellQuartas.innerHTML = VetorUsuariosClassificados[i].pontuacaoQuartas;
				    	cellOitavas.innerHTML = VetorUsuariosClassificados[i].pontuacaoOitavas;
				    	cellGrupos.innerHTML = VetorUsuariosClassificados[i].pontuacaoFaseGrupos;
				    	
					}

				}
				//Deleta a primeira linha da tabela que contem a paravra: carregando
				//tem que ser feito depois que os dados do banco sao colocados na tabela...se nao caga o role
				function deleteFirstrow(tableID) {
				    var table = document.getElementById(tableID);
				    //deleta linha abaixo do cabeçalho
				    table.deleteRow(1);
				}
			</script>

			<script type="text/javascript">
				function alternate(id){ 
				  if(document.getElementsByTagName){  
				    var table = document.getElementById(id);   
				    var rows = table.getElementsByTagName("tr");   
				    for(i = 1; i < rows.length; i++){           
				  //manipulate rows 
				      if(i % 2 == 0){ 
				        rows[i].className = "even";
				        rows[i].border = "10";  
				      }else{ 
				        rows[i].className = "odd";
				        rows[i].border = "10"; 
				      }       
				    } 
				  }
				}
			</script>
			<script type="text/javascript">
				function os5primeiros(id){ 
				  if(document.getElementsByTagName){  
				    var table = document.getElementById(id);   
				    var rows = table.getElementsByTagName("tr");   
				    for(i = 1; i < 6; i++){           
	     				rows[i].className = "premio"
	     				rows[i].style.fontWeight="bold";;
				    } 
				  }
				  //id.border = "10%";
				}
			</script>
	</body>
</html>